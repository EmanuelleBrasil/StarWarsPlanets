(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/starwars_planets.652647e7.png"},14:function(e,t,a){e.exports=a(21)},19:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),c=a.n(r),u=(a(19),Object(n.createContext)());var o=function(){var e=Object(n.useContext)(u),t=e.data,a=e.filteredData,r=e.filters.filterByName.name,c=a.filter((function(e){return e.name.includes(r)}));return t.length>0?l.a.createElement("div",null,l.a.createElement("table",{className:"planets-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Rotation Period"),l.a.createElement("th",null,"Orbital Period"),l.a.createElement("th",null,"Diameter"),l.a.createElement("th",null,"Climate"),l.a.createElement("th",null,"Gravity"),l.a.createElement("th",null,"Terrain"),l.a.createElement("th",null,"Surface Water"),l.a.createElement("th",null,"Population"),l.a.createElement("th",null,"Films"),l.a.createElement("th",null,"Created"),l.a.createElement("th",null,"Edited"),l.a.createElement("th",null,"URL"))),l.a.createElement("tbody",null,""!==r?c.map((function(e){return l.a.createElement("tr",{key:e.name},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.rotation_period),l.a.createElement("td",null,e.orbital_period),l.a.createElement("td",null,e.diameter),l.a.createElement("td",null,e.climate),l.a.createElement("td",null,e.gravity),l.a.createElement("td",null,e.terrain),l.a.createElement("td",null,e.surface_water),l.a.createElement("td",null,e.population),l.a.createElement("td",null,e.films[0]),l.a.createElement("td",null,e.created),l.a.createElement("td",null,e.edited),l.a.createElement("td",null,e.url))})):a.map((function(e){return l.a.createElement("tr",{key:e.name},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.rotation_period),l.a.createElement("td",null,e.orbital_period),l.a.createElement("td",null,e.diameter),l.a.createElement("td",null,e.climate),l.a.createElement("td",null,e.gravity),l.a.createElement("td",null,e.terrain),l.a.createElement("td",null,e.surface_water),l.a.createElement("td",null,e.population),l.a.createElement("td",null,e.films[0]),l.a.createElement("td",null,e.created),l.a.createElement("td",null,e.edited),l.a.createElement("td",null,e.url))}))))):l.a.createElement("div",null,"Loading...")},i=a(8),m=a(9),s=a(13),d=a(12),p=a(10),f=a.n(p),E=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:f.a,alt:"banner"}))}}]),a}(l.a.Component),h=a(5),b=a(4),v=a.n(b),j=a(11),O=a(1),y=function(){return fetch("https://swapi-trybe.herokuapp.com/api/planets/").then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))}))},g=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(O.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),m=Object(O.a)(i,2),s=m[0],d=m[1],p=Object(n.useState)(""),f=Object(O.a)(p,2),E=f[0],b=f[1],g=Object(n.useState)(""),C=Object(O.a)(g,2),k=C[0],F=C[1],N=Object(n.useState)(""),w=Object(O.a)(N,2),x=w[0],S=w[1],_=Object(n.useState)(c),B=Object(O.a)(_,2),I=B[0],D=B[1],P=Object(n.useState)([]),V=Object(O.a)(P,2),q=V[0],J=V[1];Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(v.a.mark((function e(){var t,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,a=t.results,o(n=a),D(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var L=Object(n.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),R=Object(O.a)(L,2),G=R[0],T=R[1];Object(n.useEffect)((function(){q.forEach((function(e){return function(e,t,a){switch(t){case"greater than":D(I.filter((function(t){return parseFloat(t[e])>parseFloat(a)})));break;case"less than":D(I.filter((function(t){return parseFloat(t[e])<parseFloat(a)})));break;case"equal to":D(I.filter((function(t){return parseFloat(t[e])===parseFloat(a)})));break;default:D(I)}}(e.column,e.comparison,e.value)}))}),[q]);var U={data:c,filteredData:I,filters:{filterByName:{name:s},filterByNumericValues:q},handleFilterByName:function(e){var t=e.target.value;d(t)},handleInputColumn:function(e){var t=e.target.value;b(t)},handleInputComparison:function(e){var t=e.target.value;F(t)},handleInputValue:function(e){var t=e.target.value;S(t)},setFilteredData:D,filterDataButton:function(){""!==E&&""!==k&&""!==x?(J([].concat(Object(h.a)(q),[{column:E,comparison:k,value:x}])),T(G.filter((function(e){return e!==E})))):D(I)},deleteFilter:function(e){var t=e.target.value,a=q.filter((function(e){return e.column!==t}));J(a),D(c),T([].concat(Object(h.a)(G),[t]))},optionsFiltered:G};return l.a.createElement(u.Provider,{value:U},t)};var C=function(){var e=Object(n.useContext)(u),t=e.handleFilterByName,a=e.handleInputColumn,r=e.handleInputComparison,c=e.handleInputValue,o=e.filterDataButton,i=e.deleteFilter,m=e.optionsFiltered,s=e.filters.filterByNumericValues;return l.a.createElement("div",{className:"filters-container "},l.a.createElement("div",{className:"filter-selector"},l.a.createElement("input",{type:"text","data-testid":"name-filter",onChange:t,placeholder:"Filter by Name"}),l.a.createElement("select",{"data-testid":"column-filter",onChange:a},l.a.createElement("option",{value:""},"Choose column"),m.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))),l.a.createElement("select",{"data-testid":"comparison-filter",onChange:r},l.a.createElement("option",{value:""},"Choose comparison"),l.a.createElement("option",{value:"greater than"},"greater than"),l.a.createElement("option",{value:"less than"},"less than"),l.a.createElement("option",{value:"equal to"},"equal to")),l.a.createElement("input",{type:"number",placeholder:"value","data-testid":"value-filter",onChange:c}),l.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:o},"Filter")),s.length>=1?s.map((function(e,t){return l.a.createElement("div",{"data-testid":"filter",key:t,className:"filters"},l.a.createElement("p",null,"Filter ".concat(t+1,":\n              ").concat(e.column," ").concat(e.comparison," ").concat(e.value)),l.a.createElement("button",{type:"button",value:e.column,onClick:i},"X"))})):l.a.createElement("div",null,"Sem filtros"))};var k=function(){return l.a.createElement("div",{className:"starwars-page"},l.a.createElement(g,null,l.a.createElement(E,null),l.a.createElement(C,null),l.a.createElement(o,null)))};c.a.render(l.a.createElement(k,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.60d2e586.chunk.js.map